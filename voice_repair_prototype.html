<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœºäº•è¯­éŸ³æŠ¥ä¿®ç³»ç»Ÿ - ç§»åŠ¨ç«¯åŸå‹æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f6fa;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .prototype-container {
            display: flex;
            min-height: 100vh;
        }

        /* å·¦ä¾§å¯¼èˆªæ  */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 20px;
            background: rgba(0,0,0,0.1);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: 600;
            color: #ecf0f1;
        }

        .nav-section {
            padding: 5px 0;
        }

        .nav-section-title {
            padding: 12px 20px;
            font-size: 14px;
            color: #ecf0f1;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .nav-section-title:hover {
            background: rgba(255,255,255,0.05);
        }

        .nav-section-toggle {
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        .nav-section.collapsed .nav-section-toggle {
            transform: rotate(-90deg);
        }

        .nav-section.collapsed .nav-section-content {
            display: none;
        }

        .nav-section-content {
            transition: all 0.3s ease;
        }

        .nav-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #bdc3c7;
            font-size: 14px;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.1);
            border-left-color: #3498db;
            color: #ecf0f1;
        }

        .nav-item.active {
            background: rgba(52, 152, 219, 0.2);
            border-left-color: #3498db;
            color: #3498db;
        }

        .nav-sub-item {
            padding: 8px 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #95a5a6;
            font-size: 13px;
        }

        .nav-sub-item:hover {
            background: rgba(255,255,255,0.05);
            color: #bdc3c7;
        }

        .nav-sub-item.active {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
        }

        .nav-icon {
            width: 16px;
            text-align: center;
        }

        /* å³ä¾§æ‰‹æœºå±•ç¤ºåŒºåŸŸ */
        .phone-display {
            flex: 1;
            margin-left: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background: #ffffff;
        }

        .phone-frame {
            width: 360px;
            height: 720px;
            background: #000;
            border-radius: 36px;
            padding: 8px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            position: relative;
        }

        .phone-screen {
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 28px;
            overflow: hidden;
            position: relative;
        }

        .container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #4285f4 0%, #357ae8 100%);
            color: white;
            padding: 15px 20px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
        }

        .page {
            display: none;
            height: calc(100% - 60px);
            overflow-y: auto;
        }

        .page.active {
            display: block;
        }

        /* å…¥å£é¡µé¢æ ·å¼ */
        .entry-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 50px 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            height: 100%;
        }

        .repair-buttons {
            display: flex;
            flex-direction: column;
            gap: 40px;
            align-items: center;
        }

        .repair-btn {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .voice-btn {
            background: linear-gradient(135deg, #4285f4 0%, #357ae8 100%);
            box-shadow: 0 8px 25px rgba(66, 133, 244, 0.3);
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(66, 133, 244, 0.4);
        }

        .manual-btn {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #6c757d;
            border: 2px solid #dee2e6;
        }

        .btn-icon {
            font-size: 28px;
        }

        /* è¯­éŸ³è¯†åˆ«é¡µé¢æ ·å¼ */
        .voice-page {
            padding: 30px 20px;
            text-align: center;
        }

        .voice-visual {
            margin: 30px 0;
            position: relative;
        }

        .voice-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4285f4 0%, #357ae8 100%);
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            position: relative;
            overflow: hidden;
        }

        .voice-circle.recording {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .voice-waves {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
        }

        .wave {
            position: absolute;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            animation: wave 2s linear infinite;
        }

        @keyframes wave {
            0% { width: 0; height: 0; opacity: 1; }
            100% { width: 240px; height: 240px; opacity: 0; }
        }

        .voice-text {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            min-height: 60px;
            border: 2px dashed #dee2e6;
            color: #6c757d;
            font-size: 14px;
            line-height: 1.5;
        }

        .voice-text.has-content {
            background: #e8f4f8;
            border-color: #4285f4;
            color: #333;
        }

        .control-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }

        .ctrl-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }

        .stop-btn {
            background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
            color: white;
        }

        .submit-btn {
            background: linear-gradient(135deg, #4285f4 0%, #357ae8 100%);
            color: white;
            padding: 12px 30px;
        }

        /* å¤„ç†é¡µé¢æ ·å¼ */
        .processing-page {
            padding: 30px 20px;
            text-align: center;
        }

        .processing-visual {
            margin: 30px 0;
        }

        .loading-circle {
            width: 80px;
            height: 80px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid #4285f4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .process-steps {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
        }

        .step {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
            font-size: 14px;
        }

        .step:last-child {
            border-bottom: none;
        }

        .step-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: white;
        }

        .step-icon.completed {
            background: #28a745;
        }

        .step-icon.processing {
            background: #4285f4;
            animation: pulse 1.5s infinite;
        }

        .step-icon.pending {
            background: #dee2e6;
            color: #6c757d;
        }

        /* æ‹ç…§å¼¹çª—æ ·å¼ */
        .photo-modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .photo-modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 25px 15px;
            margin: 20px;
            text-align: center;
            max-width: 250px;
        }

        .modal-icon {
            font-size: 40px;
            color: #4285f4;
            margin-bottom: 15px;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }

        .modal-btn {
            padding: 10px 16px;
            border: none;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-btn-yes {
            background: linear-gradient(135deg, #4285f4 0%, #357ae8 100%);
            color: white;
        }

        .photo-btn-no {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }

        /* å®Œæˆé¡µé¢æ ·å¼ */
        .complete-page {
            padding: 40px 20px;
            text-align: center;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }

        .order-info {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
            text-align: left;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #dee2e6;
            font-size: 14px;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #6c757d;
            font-weight: 500;
        }

        .info-value {
            color: #333;
            font-weight: 600;
        }

        .back-btn {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 25px;
        }
    </style>
</head>
<body>
    <div class="prototype-container">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">é¡µé¢å¯¼èˆª</div>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title" onclick="toggleSection(this)">
                    <span>ğŸ’¬ æŠ¥ä¿®ç®¡ç†</span>
                    <span class="nav-section-toggle">â–¼</span>
                </div>
                <div class="nav-section-content">
                    <div class="nav-item active" onclick="showPageAndHighlight('entryPage', this)">
                        <span class="nav-icon">ğŸ </span>
                        <span>æŠ¥ä¿®å…¥å£</span>
                    </div>
                    <div class="nav-sub-item" onclick="showPageAndHighlight('voicePage', this)">
                        <span class="nav-icon">ğŸ¤</span>
                        <span>è¯­éŸ³è¯†åˆ«</span>
                    </div>
                    <div class="nav-sub-item" onclick="showPageAndHighlight('processPage', this)">
                        <span class="nav-icon">âš™ï¸</span>
                        <span>AIå¤„ç†ä¸­</span>
                    </div>
                    <div class="nav-sub-item" onclick="showPageAndHighlight('completePage', this)">
                        <span class="nav-icon">âœ…</span>
                        <span>å®ŒæˆæŠ¥ä¿®</span>
                    </div>
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ“</span>
                        <span>æ‰‹åŠ¨å¡«æŠ¥</span>
                    </div>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title" onclick="toggleSection(this)">
                    <span>ğŸ“‹ å·¥å•ç®¡ç†</span>
                    <span class="nav-section-toggle">â–¼</span>
                </div>
                <div class="nav-section-content">
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ“‹</span>
                        <span>å·¥å•åˆ—è¡¨</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ”</span>
                        <span>å¾…å¤„ç†å·¥å•</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">â³</span>
                        <span>å¤„ç†ä¸­å·¥å•</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">âœ…</span>
                        <span>å·²å®Œæˆå·¥å•</span>
                    </div>
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ”§</span>
                        <span>ç»´ä¿®è®°å½•</span>
                    </div>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title" onclick="toggleSection(this)">
                    <span>ğŸ“Š æ•°æ®åˆ†æ</span>
                    <span class="nav-section-toggle">â–¼</span>
                </div>
                <div class="nav-section-content">
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ“ˆ</span>
                        <span>æ•°æ®ç»Ÿè®¡</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ“Š</span>
                        <span>æŠ¥ä¿®è¶‹åŠ¿</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">â±ï¸</span>
                        <span>å“åº”æ—¶é—´</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ¯</span>
                        <span>å®Œæˆç‡</span>
                    </div>
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ“</span>
                        <span>æŠ¥è¡¨ç”Ÿæˆ</span>
                    </div>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title" onclick="toggleSection(this)">
                    <span>âš™ï¸ ç³»ç»Ÿè®¾ç½®</span>
                    <span class="nav-section-toggle">â–¼</span>
                </div>
                <div class="nav-section-content">
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ‘¤</span>
                        <span>ç”¨æˆ·ç®¡ç†</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ‘¥</span>
                        <span>ç”¨æˆ·åˆ—è¡¨</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ”</span>
                        <span>æƒé™é…ç½®</span>
                    </div>
                    <div class="nav-item">
                        <span class="nav-icon">ğŸ”§</span>
                        <span>ç³»ç»Ÿé…ç½®</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ”Š</span>
                        <span>è¯­éŸ³é…ç½®</span>
                    </div>
                    <div class="nav-sub-item">
                        <span class="nav-icon">ğŸ¤–</span>
                        <span>AIæ¨¡å‹è®¾ç½®</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§æ‰‹æœºå±•ç¤ºåŒºåŸŸ -->
        <div class="phone-display">
            <div class="phone-frame">
                <div class="phone-screen">
                    <div class="container">
                        <div class="header">
                            <span id="headerTitle">æœºäº•æŠ¥ä¿®</span>
                        </div>

                        <!-- å…¥å£é¡µé¢ -->
                        <div class="page active" id="entryPage">
                            <div class="entry-page">
                                <div class="repair-buttons">
                                    <button class="repair-btn voice-btn" onclick="startVoiceRepair()">
                                        <div class="btn-icon">ğŸ¤</div>
                                        <div>è¯­éŸ³æŠ¥ä¿®</div>
                                    </button>
                                    <button class="repair-btn manual-btn">
                                        <div class="btn-icon">âœï¸</div>
                                        <div>æ‰‹åŠ¨å¡«æŠ¥</div>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- è¯­éŸ³è¯†åˆ«é¡µé¢ -->
                        <div class="page" id="voicePage">
                            <div class="voice-page">
                                <h3 style="margin-bottom: 15px; color: #333; font-size: 16px;">è¯·æè¿°æ•…éšœæƒ…å†µ</h3>
                                <p style="color: #6c757d; margin-bottom: 25px; font-size: 12px;">è¯´å‡ºæœºäº•ç¼–å·ã€æ•…éšœç±»å‹ç­‰ä¿¡æ¯</p>
                                
                                <div class="voice-visual">
                                    <div class="voice-circle" id="voiceCircle">
                                        <span id="voiceIcon">ğŸ¤</span>
                                        <div class="voice-waves" id="voiceWaves"></div>
                                    </div>
                                </div>

                                <div class="voice-text" id="voiceText">
                                    ç‚¹å‡»å¼€å§‹å½•éŸ³ï¼Œè¯´å‡ºæ•…éšœè¯¦æƒ…...
                                </div>

                                <div class="control-buttons">
                                    <button class="ctrl-btn start-btn" id="startBtn" onclick="startRecording()">å¼€å§‹å½•éŸ³</button>
                                    <button class="ctrl-btn stop-btn" id="stopBtn" onclick="stopRecording()" style="display: none;">åœæ­¢å½•éŸ³</button>
                                </div>

                                <button class="ctrl-btn submit-btn" id="submitBtn" onclick="submitVoice()" style="display: none;">æäº¤æŠ¥ä¿®</button>
                            </div>
                        </div>

                        <!-- å¤„ç†é¡µé¢ -->
                        <div class="page" id="processPage">
                            <div class="processing-page">
                                <h3 style="margin-bottom: 15px; color: #333; font-size: 16px;">æ­£åœ¨å¤„ç†æ‚¨çš„æŠ¥ä¿®ä¿¡æ¯</h3>
                                
                                <div class="processing-visual">
                                    <div class="loading-circle"></div>
                                </div>

                                <div class="process-steps">
                                    <div class="step">
                                        <div class="step-icon completed">âœ“</div>
                                        <div>è¯­éŸ³è¯†åˆ«å®Œæˆ</div>
                                    </div>
                                    <div class="step">
                                        <div class="step-icon processing" id="aiStep">ğŸ¤–</div>
                                        <div>AIæ™ºèƒ½åˆ†æä¸­...</div>
                                    </div>
                                    <div class="step">
                                        <div class="step-icon pending" id="orderStep">ğŸ“‹</div>
                                        <div>ç”Ÿæˆç»´ä¿®å·¥å•</div>
                                    </div>
                                    <div class="step">
                                        <div class="step-icon pending" id="dispatchStep">ğŸ‘¨â€ğŸ”§</div>
                                        <div>æ´¾å‘ç»™ç»´ä¿®äººå‘˜</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å®Œæˆé¡µé¢ -->
                        <div class="page" id="completePage">
                            <div class="complete-page">
                                <div class="success-icon">âœ“</div>
                                <h2 style="color: #28a745; margin-bottom: 8px; font-size: 18px;">æŠ¥ä¿®æˆåŠŸ</h2>
                                <p style="color: #6c757d; margin-bottom: 25px; font-size: 12px;">å·¥å•å·²ç”Ÿæˆå¹¶æ´¾å‘ç»™ç»´ä¿®äººå‘˜</p>

                                <div class="order-info">
                                    <div class="info-row">
                                        <span class="info-label">å·¥å•ç¼–å·</span>
                                        <span class="info-value" id="orderNumber">WO202312150001</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æœºäº•ç¼–å·</span>
                                        <span class="info-value" id="wellNumber">01å·æœºäº•</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">æ•…éšœç±»å‹</span>
                                        <span class="info-value" id="faultType">è®¾å¤‡æŸåï¼Œä¸é€šç”µ</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">ç´§æ€¥ç¨‹åº¦</span>
                                        <span class="info-value" id="urgency">é«˜</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">é¢„è®¡å®Œæˆ</span>
                                        <span class="info-value" id="estimatedTime">2å°æ—¶å†…</span>
                                    </div>
                                </div>

                                <button class="back-btn" onclick="resetToEntry()">è¿”å›é¦–é¡µ</button>
                            </div>
                        </div>

                        <!-- æ‹ç…§å¼¹çª— -->
                        <div class="photo-modal" id="photoModal">
                            <div class="modal-content">
                                <div class="modal-icon">ğŸ“·</div>
                                <h3 style="margin-bottom: 8px; font-size: 16px;">è¡¥å……æ•…éšœç…§ç‰‡</h3>
                                <p style="color: #6c757d; font-size: 12px;">æ‹æ‘„æ•…éšœç°åœºç…§ç‰‡æœ‰åŠ©äºç»´ä¿®äººå‘˜æ›´å¿«å®šä½é—®é¢˜</p>
                                <div class="modal-buttons">
                                    <button class="modal-btn photo-btn-yes" onclick="takePhoto()">æ‹ç…§</button>
                                    <button class="modal-btn photo-btn-no" onclick="skipPhoto()">è·³è¿‡</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let isRecording = false;
        let recordingTimer;
        let currentStep = 0;

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        function updateHeader(title) {
            document.getElementById('headerTitle').textContent = title;
        }

        function toggleSection(element) {
            const section = element.parentElement;
            section.classList.toggle('collapsed');
        }

        function showPageAndHighlight(pageId, navElement) {
            // ç§»é™¤æ‰€æœ‰å¯¼èˆªé¡¹çš„activeçŠ¶æ€
            document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // æ·»åŠ å½“å‰å¯¼èˆªé¡¹çš„activeçŠ¶æ€
            navElement.classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”é¡µé¢
            showPage(pageId);
            
            // æ›´æ–°æ ‡é¢˜
            const titles = {
                'entryPage': 'æœºäº•æŠ¥ä¿®',
                'voicePage': 'è¯­éŸ³æŠ¥ä¿®',
                'processPage': 'å¤„ç†ä¸­',
                'completePage': 'æŠ¥ä¿®å®Œæˆ'
            };
            updateHeader(titles[pageId] || 'æœºäº•æŠ¥ä¿®');
        }

        function startVoiceRepair() {
            showPage('voicePage');
            updateHeader('è¯­éŸ³æŠ¥ä¿®');
            
            // åŒæ—¶æ›´æ–°å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-sub-item')[0].classList.add('active');
        }

        function startRecording() {
            isRecording = true;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'inline-block';
            document.getElementById('voiceCircle').classList.add('recording');
            document.getElementById('voiceIcon').textContent = 'ğŸ”´';
            
            // æ·»åŠ éŸ³æ³¢åŠ¨ç”»
            createWaves();
            
            // æ¨¡æ‹Ÿè¯­éŸ³è¯†åˆ«
            setTimeout(() => {
                document.getElementById('voiceText').textContent = 'æ­£åœ¨è¯†åˆ«...';
                document.getElementById('voiceText').classList.add('has-content');
            }, 1000);

            setTimeout(() => {
                document.getElementById('voiceText').textContent = '01å·æœºäº•æœ‰æŸåï¼Œä¸é€šç”µï¼Œè¯·å°½å¿«å®‰æ’ç»´ä¿®äººå‘˜è¿‡æ¥æ£€æŸ¥...';
            }, 3000);
        }

        function stopRecording() {
            isRecording = false;
            document.getElementById('stopBtn').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'inline-block';
            document.getElementById('voiceCircle').classList.remove('recording');
            document.getElementById('voiceIcon').textContent = 'ğŸ¤';
            
            // æ¸…é™¤éŸ³æ³¢
            document.getElementById('voiceWaves').innerHTML = '';
        }

        function createWaves() {
            const wavesContainer = document.getElementById('voiceWaves');
            const wave = document.createElement('div');
            wave.className = 'wave';
            wavesContainer.appendChild(wave);

            if (isRecording) {
                setTimeout(createWaves, 500);
            }
        }

        function submitVoice() {
            showPage('processPage');
            updateHeader('å¤„ç†ä¸­');
            
            // æ›´æ–°å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-sub-item')[1].classList.add('active');
            
            // æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹
            setTimeout(() => {
                document.getElementById('aiStep').classList.add('completed');
                document.getElementById('aiStep').classList.remove('processing');
                document.getElementById('aiStep').textContent = 'âœ“';
                document.getElementById('orderStep').classList.add('processing');
                document.getElementById('orderStep').classList.remove('pending');
            }, 2000);

            setTimeout(() => {
                // æ˜¾ç¤ºæ‹ç…§å¼¹çª—
                document.getElementById('photoModal').classList.add('show');
            }, 3000);
        }

        function takePhoto() {
            document.getElementById('photoModal').classList.remove('show');
            
            // æ¨¡æ‹Ÿæ‹ç…§å»¶è¿Ÿ
            setTimeout(() => {
                completeProcess();
            }, 1000);
        }

        function skipPhoto() {
            document.getElementById('photoModal').classList.remove('show');
            completeProcess();
        }

        function completeProcess() {
            document.getElementById('orderStep').classList.add('completed');
            document.getElementById('orderStep').classList.remove('processing');
            document.getElementById('orderStep').textContent = 'âœ“';
            document.getElementById('dispatchStep').classList.add('processing');
            document.getElementById('dispatchStep').classList.remove('pending');

            setTimeout(() => {
                document.getElementById('dispatchStep').classList.add('completed');
                document.getElementById('dispatchStep').classList.remove('processing');
                document.getElementById('dispatchStep').textContent = 'âœ“';
                
                setTimeout(() => {
                    showPage('completePage');
                    updateHeader('æŠ¥ä¿®å®Œæˆ');
                    
                    // æ›´æ–°å¯¼èˆªçŠ¶æ€
                    document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    document.querySelectorAll('.nav-sub-item')[2].classList.add('active');
                }, 1000);
            }, 2000);
        }

        function resetToEntry() {
            showPage('entryPage');
            updateHeader('æœºäº•æŠ¥ä¿®');
            
            // æ›´æ–°å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-item')[0].classList.add('active');
            
            // é‡ç½®æ‰€æœ‰çŠ¶æ€
            isRecording = false;
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('stopBtn').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('voiceCircle').classList.remove('recording');
            document.getElementById('voiceIcon').textContent = 'ğŸ¤';
            document.getElementById('voiceText').textContent = 'ç‚¹å‡»å¼€å§‹å½•éŸ³ï¼Œè¯´å‡ºæ•…éšœè¯¦æƒ…...';
            document.getElementById('voiceText').classList.remove('has-content');
            document.getElementById('voiceWaves').innerHTML = '';
            
            // é‡ç½®å¤„ç†æ­¥éª¤
            document.getElementById('aiStep').className = 'step-icon processing';
            document.getElementById('aiStep').textContent = 'ğŸ¤–';
            document.getElementById('orderStep').className = 'step-icon pending';
            document.getElementById('orderStep').textContent = 'ğŸ“‹';
            document.getElementById('dispatchStep').className = 'step-icon pending';
            document.getElementById('dispatchStep').textContent = 'ğŸ‘¨â€ğŸ”§';
        }
    </script>
</body>
</html> 